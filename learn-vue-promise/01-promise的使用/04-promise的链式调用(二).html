<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

    let isResult1 = false;
    let isResult2 = false;

    // 请求一：
    $ajax({
        url: '',
        success: function () {
            console.log('结果1');
            isResult1 = true;
            handleResult()
        }
    })

    // 请求二：
    $ajax({
        url: '',
        success: function () {
            console.log('结果2');
            isResult2 = true;
            handleResult()
        }
    })

    function handleResult() {
        if (isResult1 && isResult2) {

        }
    }

    // 参数 -> 函数(resolve, reject)
    // resolve, reject本身它们又是函数
    // 链式编程
    // new Promise((resolve, reject) => {
    //     setTimeout(() => {
    //         resolve('aaa')
    //     }, 1000)
    // }).then(res => {
    //     console.log(res,'第一层');
    //     return new Promise((resolve,reject) => {
    //         // resolve(res+'111')
    //         reject('err')
    //     })
    // }).then(res=>{
    //     console.log(res,'第二层');
    //     return new Promise(resolve => {
    //         resolve(res+'222')
    //     })
    // }).then(res=>{
    //     console.log(res,'第三层')
    // }).catch(err=>{
    //     console.log(err);
    // })

    // new Promise(resolve => resolve(结果))简写
    // new Promise((resolve, reject) => {
    //     setTimeout(() => {
    //         resolve('aaa')
    //     }, 1000)
    // }).then(res => {
    //     console.log(res,'第一层');
    //     // return Promise.resolve(res+'111')
    //     // 异常处理
    //     // return Promise.reject('err')
    //     // 手动抛出异常
    //     throw 'err'
    // }).then(res=>{
    //     console.log(res,'第二层');
    //     return Promise.resolve(res+'222')
    // }).then(res=>{
    //     console.log(res,'第三层')
    // }).catch(err=>{
    //     console.log(err);
    // })

    // 省略掉Promise.resolve()
    // new Promise((resolve, reject) => {
    //     setTimeout(() => {
    //         resolve('aaa')
    //     }, 1000)
    // }).then(res => {
    //     console.log(res,'第一层');
    //     return res+'111'
    // }).then(res=>{
    //     console.log(res,'第二层');
    //     return res+'222'
    // }).then(res=>{
    //     console.log(res,'第三层')
    // })
</script>
</body>
</html>